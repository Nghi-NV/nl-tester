flow: mock_location_ios_test
description: Test iOS mock location simulation
label: iOS Mock Location Test

commands:
  # Start mock location with speed noise simulation
  - mockLocation:
      name: route1
      file: Location.gpx
      speed: 100.0
      loop: false

  # Wait a bit
  - wait: 2000

  # Wait for a checkpoint (roughly start of route)
  - waitForLocation:
      name: route1
      lat: 20.56865
      lon: 105.91726
      tolerance: 100
      timeout: 60000
  
  # Dynamic speed control - speed up to 150 km/h
  - mockLocationControl:
      name: route1
      speed: 150.0
      speedMode: linear

  # Wait for completion
  - waitForMockCompletion:
      name: route1
      timeout: 180000

  - stopMockLocation
